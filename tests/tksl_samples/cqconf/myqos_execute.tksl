use myqos::{HoneywellConfig, new_experiment};
use pytket::{Circuit, compile_circuits, SampledDistribution};

Graph compilation(circuits: Vector<Circuit>, pass: Str) -> (value: Vector<Circuit>) {
    output (compile_circuits(circuits, pass));
}


Graph myqos_runner<Config>(
    circuits: Vector<Circuit>,
    shots: Vector<Int>,
    config: Pair<Str, Config>,
    experiment: Str,
    compiler: Compiler
) -> (value: Vector<SampledDistribution>) {
    backend <- unpack_pair(config);
    circuits <- eval(thunk: compiler, circuits: circuits);
    output (myqos::execute(backend.first, backend.second, experiment, circuits.value, shots));
}
