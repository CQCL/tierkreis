#!/bin/bash
#
# PJSUB Job Script generated by TIERKREIS

# --- Core Job Specifications ---
#PJM -N {{ job.job_name }}
#PJM -L "elapse={{ job.walltime }}"
#PJM -L "rscgrp={{ job.queue | default('none') }}"
#PJM -L "node={{ job.nodes }}"
{% if job.memory_gb %} #PJM -L "node-mem={{ job.memory_gb }}"{% endif %}
{% if job.group %}#PJM -g {{ job.account }} {% endif %}


# --- Output and Error Handling ---
#PJM -j
{% if job.output_path %}#PJM -o {{ job.output_path }}{% else %}#PJM -o "{{ job.job_name }}.o%j"{% endif %}
{% if job.error_path and not job.output_path %}#PJM -e {{ job.error_path }}{% endif %}

# --- User-Specific Arguments ---
{% for key, value in job.extra_scheduler_args.items() %}
#PJM {{ key }} {% if value is not none %}{{ value }}{% endif %}
{% endfor %}

# --- Environment Setup ---
{% for key, value in job.environment.items() %}
#PJM -X "{{ key }}"="{{ value }}"
{% endfor %}

# --- User Command ---
echo "Executing command: {{ job.command }}"
{{ job.command }}

