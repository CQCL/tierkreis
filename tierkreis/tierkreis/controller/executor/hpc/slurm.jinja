#!/bin/bash
#
# SLURM Job Script generated by TIERKREIS

# --- Core Job Specifications ---
#SBATCH --job-name={{ job.job_name }}
#SBATCH --time={{ job.walltime }}
#SBATCH --nodes={{ job.nodes }}
#SBATCH --cpus-per-task={{ job.cores }}
{% if job.memory_gb %}#SBATCH --mem={{ job.memory }}{% endif %}
{% if job.queue %}#SBATCH --partition={{ job.queue }}{% endif %}
{% if job.account %}#SBATCH --account={{ job.account }}{% endif %}

# --- Output and Error Handling ---
{% if job.output_path %}#SBATCH --output={{ job.output_path }}.o%j{% else %}#SBATCH --output={{ job.job_name }}.o%j{% endif %}
{% if job.error_path and not job.output_path %}#SBATCH --error={{ job.error_path }}.e%j {% endif %}

# --- User-specific Arguments ---
{% for key, value in job.extra_scheduler_args.items() %}
#SBATCH {{ key }} {% if value is not none %}{{ value }}{% endif %}
{% endfor %}

# --- Environment Setup ---
{% for key, value in job.environment.items() %}
export {{ key }}="{{ value }}"
{% endfor %}

# --- User Command ---
echo "Executing command: {{ job.command }}"
{{ job.command }}


